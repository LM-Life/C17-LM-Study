<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <title>C-17 Loadmaster Study</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="manifest" href="manifest.json" />
      <link rel="stylesheet" href="style.css" />
    </head>
    <body>
      <header class="app-header">
        <div class="app-title">
          <h1>C-17 Loadmaster Study</h1>
          <p class="subtitle">Flashcards ‚Ä¢ Question Bank</p>
        </div>

        <div class="app-meta">
          <div class="version-block">
            <div class="app-version" id="appVersion"></div>
            <div class="cache-version" id="cacheVersion"></div>
          </div>
          <button id="installBtn" class="btn secondary" hidden>Install App</button>
        </div>
      </header>

      <main class="app-main">
        <section class="controls">
          <div class="control-group">
            <label for="categorySelect">Category</label>
            <select id="categorySelect">
              <option value="all">All Categories</option>
            </select>
          </div>

          <div class="control-group">
            <label for="shuffleToggle">
              <input type="checkbox" id="shuffleToggle" checked />
              Shuffle Questions
            </label>
          </div>

          <div class="control-group">
            <label for="showRefToggle">
              <input type="checkbox" id="showRefToggle" checked />
              Show References
            </label>
          </div>

          <div class="nav-row">
            <button id="exportFlagsBtn" class="btn small outline" type="button">
              ‚¨áÔ∏è Export Flags
            </button>

            <button id="prevBtn" class="btn ghost" type="button">‚Üê Prev</button>
            <button id="nextBtn" class="btn primary" type="button">Next ‚Üí</button>
          </div>
        </section>

        <section class="card-area">
          <div id="card" class="card">
            <div class="card-inner">
              <div class="card-face card-question">
                <h2 id="questionText">Loading questions...</h2>

                <div id="modeHint" class="mode-hint"></div>

                <div class="meta-row">
                  <span id="categoryLabel" class="pill">Category</span>
                  <span id="counterLabel" class="counter">0 / 0</span>
                </div>

                <div class="flag-row">
                  <button id="flagToggleBtn" class="btn small ghost" type="button">
                    üö© Flag this question
                  </button>
                  <span id="flagStatus" class="flag-status"></span>
                </div>

                <div id="flagPanel" class="flag-panel hidden">
                  <label for="flagText">Why are you flagging this question?</label>
                  <textarea
                    id="flagText"
                    rows="2"
                    placeholder="Type what seems wrong or unclear..."
                  ></textarea>
                  <div class="flag-actions">
                    <button id="saveFlagBtn" class="btn small secondary" type="button">
                      Save flag
                    </button>
                    <button id="clearFlagBtn" class="btn small ghost" type="button">
                      Clear flag
                    </button>
                  </div>
                </div>
              </div>

              <div class="card-face card-answer">
                <h3>Answer</h3>
                <p id="answerText"></p>
                <p id="referenceText" class="reference"></p>
                <button id="flipBackBtn" class="btn ghost small" type="button">
                  Back to Question
                </button>
              </div>
            </div>
          </div>

          <div class="help-text">
            <p><strong>Flashcards:</strong> Tap/click the card to flip between question and answer.</p>
          </div>
        </section>
      </main>

      <footer class="app-footer">
        <span>C-17 LM Study ‚Ä¢ Offline-capable PWA</span>
      </footer>

      <div id="toast" class="toast hidden"></div>
      <script src="app.js" defer></script>
      <div id="updateBanner" class="update-banner hidden">
        <span>‚¨ÜÔ∏è Update available</span>
        <button id="updateReloadBtn" class="btn small primary">Update</button>
      </div>
    </body>
  </html>
